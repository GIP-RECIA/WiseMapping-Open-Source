<!DOCTYPE HTML>

<html>
<head>
    <!--[if lt IE 9]>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <![endif]-->

    <!-- Internet Explorer 8 Hack -->
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8"/>
    <title>WiseMapping - Editor </title>
    <link rel="stylesheet" type="text/css" href="../css/editor.css"/>
    <link rel="stylesheet" type="text/css" href="../css/bubble.css"/>

    <!--<script type='text/javascript' src='../js/wiseLibrary.js'></script>-->
    <script type='text/javascript' src='../js/mootools-core-1.3.2-full-compat.js'></script>
    <script type='text/javascript' src='../js/mootools-more-1.3.2.1-yui.js'></script>

    <script type='text/javascript' src='../../../../../wise-webapp/src/main/webapp/js/common.js'></script>
    <script type='text/javascript' src='../../../../../wise-webapp/src/main/webapp/js/windoo.js'></script>

    <!--<script type='text/javascript' src='../js/wiseEditorLibrary.js'></script>-->
    <script type='text/javascript' src='../../../../../wise-webapp/src/main/webapp/js/IconPanel.js'></script>
    <script type='text/javascript' src='../../../../../wise-webapp/src/main/webapp/js/mooRainbow.js'></script>



    <script type='text/javascript' src='../../../../../core-js/target/classes/core.js'></script>

    <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
</head>
<body>


<form method="post" id="printForm" name="printForm" action='' style="height:100%;" target="${mindmap.title}">
    <input type="hidden" name="action" value="print">
    <input type="hidden" name="mapId" value="${mindmap.id}">
    <input type="hidden" name="mapSvg" value="">
</form>

<div id="waitDialog" style="display:none">
    <div id="waitingContainer">
        <div class="loadingIcon"></div>
        <div class="loadingText">
            SYMB_EDITOR.LOADING
        </div>
    </div>
</div>

<div id="errorDialog" style="display:none">
    <div id="errorContainer">
        <div class="loadingIcon"></div>
        <div class="loadingText">
            SYMB_EDITOR.ERROR_LOADING
        </div>
    </div>
</div>

<script type="text/javascript">

    var waitDialog = new core.WaitDialog();
    waitDialog.activate(true, $("waitDialog"));
    $(window).addEvent("error", function(event) {

        // Show error dialog ...
        waitDialog.changeContent($("errorDialog"), false);
        return false;
    });


    var mapId = '1';
    var mapXml = '<map name="38298" version="pela"><topic central="true" text="test" id="1"/></map>';

    // @Todo: This must be persiste in the map properties ...
    var editorProperties = {zoom:0.85,saveOnLoad:true};

    function printMap() {
        document.printForm.mapSvg.value = $("workspaceContainer").innerHTML;
        document.printForm.submit();
    }
</script>

<div id="colorPalette">
    <div id="paletteHeader"></div>
</div>

<div id="fontFamilyPanel" class="toolbarPanel">
    <div id="times" class="toolbarPanelLink" style="font-family:times;">Times</div>
    <div id="arial" class="toolbarPanelLink" style="font-family:arial;">Arial</div>
    <div id="tahoma" class="toolbarPanelLink" style="font-family:tahoma;">Tahoma</div>
    <div id="verdana" class="toolbarPanelLink" style="font-family:verdana;">Verdana</div>
</div>

<div id="fontSizePanel" class="toolbarPanel">
    <div id="small" class="toolbarPanelLink" style="font-size:8px">Small</div>
    <div id="normal" class="toolbarPanelLink" style="font-size:12px">Normal</div>
    <div id="large" class="toolbarPanelLink" style="font-size:15px">Large</div>
    <div id="huge" class="toolbarPanelLink" style="font-size:24px">Huge</div>
</div>

<div id="topicShapePanel" class="toolbarPanel">
    <!--<div id="automatic" class="toolbarPanelLink">Automatic</div>-->
    <div id="rectagle" class="toolbarPanelLink"><img src="../images/shape-rectangle.png" alt="Rectangle" width="40"
                                                     height="25"></div>
    <div id="rounded_rectagle" class="toolbarPanelLink"><img src="../images/shape-rectangle-rounded.png"
                                                             alt="Rounded Rectangle" width="40" height="25"></div>
    <div id="line" class="toolbarPanelLink"><img src="../images/shape-line.png" alt="Line" width="40" height="7"></div>
    <div id="elipse" class="toolbarPanelLink"><img src="../images/shape-elipse.png" alt="Elipse" width="40" height="25">
    </div>
</div>

<div id="actionsContainer">
</div>

<div id="toolbar">
<div id="editTab" class="tabContent">
<div id="file" class="buttonContainer" title="SYMB_ FILE">
    <fieldset>
        <legend>
            SYMB_FILE
        </legend>
        <div id="saveButton" class="button" title="SYMB_ SAVE">
            <div class="toolbarLabel">
                <p>
                    SYMB_SAVE
                </p>
            </div>
        </div>
        <div id="discardButton" class="button" title="SYMB_ CLOSE">
            <div class="toolbarLabel">
                <p>
                    SYMB_CLOSE
                </p>
            </div>
        </div>
        <div id="undoEdition" class="button" title="SYMB_ UNDO_EDITION">
            <div class="toolbarLabel">
                <p>
                    SYMB_UNDO
                </p>
            </div>
        </div>
        <div id="redoEdition" class="button" title="SYMB_ REDO_EDITION">
            <div class="toolbarLabel">
                <p>
                    SYMB_REDO
                </p>
            </div>
        </div>

        <div id="print" class="button" title="SYMB_ PRINT" onclick="printMap();">
            <div class="toolbarLabel">
                <p>
                    SYMB_PRINT
                </p>
            </div>
        </div>

        <div id="export" class="button" title="SYMB_ EXPORT">
            <div class="toolbarLabel">
                <p>
                    SYMB_EXPORT
                </p>
            </div>
            <a id="exportAnchor" href="export.htm?mapId=${mindmap.id}" rel="moodalbox 600px 400px"
               title="SYMB_ EXPORT_DETAILS">
            </a>
        </div>
    </fieldset>
</div>
<div id="zoom" class="buttonContainer" title="Zoom In">
    <fieldset>
        <legend>
            SYMB_ZOOM
        </legend>
        <div id="zoomIn" class="button" title="SYMB_ ZOOM_IN">
            <div class="toolbarLabel">
                <p>
                    SYMB_IN
                </p>
            </div>
        </div>
        <div id="zoomOut" class="button" title="SYMB_ ZOOM_OUT">
            <div class="toolbarLabel">
                <p>
                    SYMB_OUT
                </p>
            </div>
        </div>
    </fieldset>
</div>
<div id="node" class="buttonContainer" title="Node Properties">
    <fieldset>
        <legend>
            SYMB_TOPIC
        </legend>
        <div id="topicShape" class="button comboButton" title="SYMB_ TOPIC_SHAPE">
            <div class="toolbarLabel">
                <p>
                    SYMB_SHAPE
                </p>
            </div>
        </div>
        <div id="addTopic" class="button" title="SYMB_ TOPIC_ADD">
            <div class="toolbarLabel">
                <p>
                    SYMB_ADD
                </p>
            </div>
        </div>
        <div id="deleteTopic" class="button" title="SYMB_ TOPIC_DELETE">
            <div class="toolbarLabel">
                <p>
                    SYMB_DELETE
                </p>
            </div>
        </div>
        <div id="topicBorder" class="button comboButton" title="SYMB_ TOPIC_BORDER_COLOR">
            <div class="toolbarLabel">
                <p>
                    SYMB_BORDER
                </p>
            </div>
        </div>
        <div id="topicColor" class="button comboButton" title="SYMB_ TOPIC_BACKGROUND_COLOR">
            <div class="toolbarLabel">
                <p>
                    SYMB_COLOR
                </p>
            </div>
        </div>
        <div id="topicIcon" class="button comboButton" title="SYMB_ TOPIC_ICON">
            <div class="toolbarLabel">
                <p>
                    SYMB_ICON
                </p>
            </div>
        </div>
        <div id="topicNote" class="button comboButton" title="SYMB_ TOPIC_NOTE">
            <div class="toolbarLabel">
                <p>
                    SYMB_NOTE
                </p>
            </div>
        </div>
        <div id="topicLink" class="button" title="SYMB_ TOPIC_LINK">
            <div class="toolbarLabel">
                <p>
                    SYMB_LINK
                </p>
            </div>
        </div>
        <div id="topicRelation" class="topicRelation button" title="SYMB_ TOPIC_RELATIONSHIP">
            <div class="relationshiplabel toolbarLabel">
                <p>
                    SYMB_TOPIC_RELATIONSHIP
                </p>
            </div>
        </div>
    </fieldset>
</div>
<div id="font" class="buttonContainer" title="Font Properties">
    <fieldset>
        <legend>
            SYMB_FONT
        </legend>
        <div id="fontFamily" class="button comboButton" title="SYMB_ FONT_TYPE">
            <div class="toolbarLabel">
                <p>
                    SYMB_TYPE
                </p>
            </div>
        </div>
        <div id="fontSize" class="button comboButton" title="SYMB_ FONT_SIZE">
            <div class="toolbarLabel">
                <p>
                    SYMB_SIZE
                </p>
            </div>
        </div>
        <div id="fontBold" class="button" title="SYMB_ FONT_BOLD">
            <div class="toolbarLabel">
                <p>
                    SYMB_BOLD
                </p>
            </div>
        </div>
        <div id="fontItalic" class="button" title="SYMB_ FONT_ITALIC">
            <div class="toolbarLabel">
                <p>
                    SYMB_ITALIC
                </p>
            </div>
        </div>
        <div id="fontColor" class="button comboButton" title="SYMB_ FONT_COLOR">
            <div class="toolbarLabel">
                <p>
                    SYMB_COLOR
                </p>
            </div>
        </div>
    </fieldset>
</div>
<div id="share" class="buttonContainer" title="Share Properties">

    <fieldset>
        <legend>
            SYMB_COLLABORATION
        </legend>
        <div id="tagIt" class="button" title="SYMB_ TAG">
            <div class="toolbarLabel">
                <p>
                    SYMB_TAG
                </p>
            </div>
        </div>
        <div id="shareIt" class="button" title="SYMB_ COLLABORATE">
            <div class="toolbarLabel">
                <p>
                    SYMB_SHARE
                </p>
            </div>
        </div>
        <div id="publishIt" class="button" title="SYMB_ PUBLISH">
            <div class="toolbarLabel">
                <p>
                    SYMB_PUBLISH
                </p>
            </div>
        </div>
        <div id="history" class="button" title="SYMB_ HISTORY_MSG">
            <div class="toolbarLabel">
                <p>
                    SYMB_HISTORY
                </p>
            </div>
        </div>
    </fieldset>
</div>
</div>
</div>

<div id="mindplot"></div>

<div id="footerEditor">
    <div style="position:absolute; top:0px; width:100%">
        <a href="home.htm">
            <div id="logo"></div>
        </a>

        <div id='msgLoggerContainer' class="msgLoggerContainer">
            <div id="msgStart"></div>
            <div id='msgLogger'></div>
            <div id="msgEnd"></div>
        </div>
    </div>
    <div id="helpButtonKeyboard"
         style="text-align:center; width:100px; height:20px; background-color:#f5f5f5; border: 1px solid #BBB6D6; cursor:pointer; padding-left:5px; margin-left:3px;float:left;">
        <div style="float:left; position:relative; top:50%; margin-top:-8px; margin-left:5px;"><img
                src="../images/help.png"/></div>
        <div style="float:left; position:relative; top:50%; margin-top:-8px; margin-left:4px;">Shortcuts</div>
    </div>
</div>
<div id="ffoxworkarround" style="display:none;"><input id="ffoxWorkarroundInput" type="text"></div>
<script type="text/javascript" src="../js/editor.js"></script>
</body>
</html>
